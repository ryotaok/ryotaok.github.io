<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Simulation Settings - DOS damage output simulation for Genshin Impact (原神)</title>
        <!-- Custom HTML head -->
        

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">
        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">
        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="overview.html">Overview</a></li><li class="chapter-item expanded "><a href="Raiden_Shogun.html"><strong aria-hidden="true">1.</strong> Raiden Shogun</a></li><li class="chapter-item expanded "><a href="Kujou_Sara.html"><strong aria-hidden="true">2.</strong> Kujou Sara</a></li><li class="chapter-item expanded "><a href="Aloy.html"><strong aria-hidden="true">3.</strong> Aloy</a></li><li class="chapter-item expanded "><a href="Ayaka.html"><strong aria-hidden="true">4.</strong> Ayaka</a></li><li class="chapter-item expanded "><a href="Yoimiya.html"><strong aria-hidden="true">5.</strong> Yoimiya</a></li><li class="chapter-item expanded "><a href="Sayu.html"><strong aria-hidden="true">6.</strong> Sayu</a></li><li class="chapter-item expanded "><a href="Kazuha.html"><strong aria-hidden="true">7.</strong> Kazuha</a></li><li class="chapter-item expanded "><a href="Yanfei.html"><strong aria-hidden="true">8.</strong> Yanfei</a></li><li class="chapter-item expanded "><a href="Eula.html"><strong aria-hidden="true">9.</strong> Eula</a></li><li class="chapter-item expanded "><a href="Rosaria.html"><strong aria-hidden="true">10.</strong> Rosaria</a></li><li class="chapter-item expanded "><a href="Xiao.html"><strong aria-hidden="true">11.</strong> Xiao</a></li><li class="chapter-item expanded "><a href="Hu_Tao.html"><strong aria-hidden="true">12.</strong> Hu Tao</a></li><li class="chapter-item expanded "><a href="Albedo.html"><strong aria-hidden="true">13.</strong> Albedo</a></li><li class="chapter-item expanded "><a href="Ganyu.html"><strong aria-hidden="true">14.</strong> Ganyu</a></li><li class="chapter-item expanded "><a href="Tartaglia.html"><strong aria-hidden="true">15.</strong> Tartaglia</a></li><li class="chapter-item expanded "><a href="Diona.html"><strong aria-hidden="true">16.</strong> Diona</a></li><li class="chapter-item expanded "><a href="Zhongli.html"><strong aria-hidden="true">17.</strong> Zhongli</a></li><li class="chapter-item expanded "><a href="Xinyan.html"><strong aria-hidden="true">18.</strong> Xinyan</a></li><li class="chapter-item expanded "><a href="Amber.html"><strong aria-hidden="true">19.</strong> Amber</a></li><li class="chapter-item expanded "><a href="Bennett.html"><strong aria-hidden="true">20.</strong> Bennett</a></li><li class="chapter-item expanded "><a href="Diluc.html"><strong aria-hidden="true">21.</strong> Diluc</a></li><li class="chapter-item expanded "><a href="Klee.html"><strong aria-hidden="true">22.</strong> Klee</a></li><li class="chapter-item expanded "><a href="Xiangling.html"><strong aria-hidden="true">23.</strong> Xiangling</a></li><li class="chapter-item expanded "><a href="Barbara.html"><strong aria-hidden="true">24.</strong> Barbara</a></li><li class="chapter-item expanded "><a href="Mona.html"><strong aria-hidden="true">25.</strong> Mona</a></li><li class="chapter-item expanded "><a href="Xingqiu.html"><strong aria-hidden="true">26.</strong> Xingqiu</a></li><li class="chapter-item expanded "><a href="Beidou.html"><strong aria-hidden="true">27.</strong> Beidou</a></li><li class="chapter-item expanded "><a href="Fischl.html"><strong aria-hidden="true">28.</strong> Fischl</a></li><li class="chapter-item expanded "><a href="Keqing.html"><strong aria-hidden="true">29.</strong> Keqing</a></li><li class="chapter-item expanded "><a href="Lisa.html"><strong aria-hidden="true">30.</strong> Lisa</a></li><li class="chapter-item expanded "><a href="Razor.html"><strong aria-hidden="true">31.</strong> Razor</a></li><li class="chapter-item expanded "><a href="Chongyun.html"><strong aria-hidden="true">32.</strong> Chongyun</a></li><li class="chapter-item expanded "><a href="Kaeya.html"><strong aria-hidden="true">33.</strong> Kaeya</a></li><li class="chapter-item expanded "><a href="Qiqi.html"><strong aria-hidden="true">34.</strong> Qiqi</a></li><li class="chapter-item expanded "><a href="Jean.html"><strong aria-hidden="true">35.</strong> Jean</a></li><li class="chapter-item expanded "><a href="Sucrose.html"><strong aria-hidden="true">36.</strong> Sucrose</a></li><li class="chapter-item expanded "><a href="Traveler_(Anemo).html"><strong aria-hidden="true">37.</strong> Traveler (Anemo)</a></li><li class="chapter-item expanded "><a href="Venti.html"><strong aria-hidden="true">38.</strong> Venti</a></li><li class="chapter-item expanded "><a href="Ningguang.html"><strong aria-hidden="true">39.</strong> Ningguang</a></li><li class="chapter-item expanded "><a href="Noelle.html"><strong aria-hidden="true">40.</strong> Noelle</a></li><li class="chapter-item expanded "><a href="Traveler_(Geo).html"><strong aria-hidden="true">41.</strong> Traveler (Geo)</a></li><li class="spacer"></li><li class="chapter-item expanded affix "><a href="simulation_settings.html" class="active">Simulation Settings</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">DOS damage output simulation for Genshin Impact (原神)</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="simulation-settings"><a class="header" href="#simulation-settings">Simulation Settings</a></h1>
<p>Characters:</p>
<ul>
<li>All characters up to version 2.1 are implemented.</li>
<li>Using stats of character level at 90.</li>
<li>All talent levels are 10.</li>
<li>Constellations are limited to 0 for now.</li>
</ul>
<p>When a player presses some button to do a certain action, it does not always mean that the enemy takes damage. There are differences between character's actions and their attack entities (which have a hit box in the game). The player interactions to character's actions are considered as <code>AttackEvent</code>, and attack entities that can damage enemies are considered as <code>Attack</code>.</p>
<p>In this program, most of <code>Attack</code> are crated by characters at the same time as <code>AttackEvent</code> is triggered but some are not, especially those have DoT damage over times. Normal and charge attacks are simultaneous.</p>
<p>Weapons:</p>
<ul>
<li>Most weapons up to version 2.1 are implemented.</li>
<li>Using stats of weapon level at 90.</li>
<li>All five star weapons have the refinement rank of 1, while all four star weapons have the refinement rank of 5. Some three star weapons are included.</li>
</ul>
<p>Artifacts:</p>
<ul>
<li>Most artifacts up to version 2.1 are implemented.</li>
<li>All the artifacts have the same stats: 80 ATK%, 80% Crit Rate, 311 flat ATK, 46.6% or 58.3% DMG bonus for the respective character's vision. If the sum of Crit rate exceeds 80%, the excesses are converted to Crit damage.</li>
</ul>
<p>Damage calculation:</p>
<ul>
<li>Most in-game features are implemented: enemy resistance, enemy defense, elemental reactions, internal cooldown of elemental application, the gauge unit theory, stamina,</li>
<li>Critical damage is the average value of Crit rate and Crit damage.</li>
<li>Randomness of passive effects is always 100% (for example, Prototype Archaic has 50% chance to activate its passive but it is always activated when its condition is met).</li>
</ul>
<p>The simulated field:</p>
<ul>
<li>The enemy is a hilichurl at level 90.</li>
<li>Simulated characters try to take actions every 200 milliseconds and the simulation ends when the simulation timer is at 20 seconds (these values can be changed). If the actions are under cooldown, the characters will do nothing.</li>
<li>The first character has an attacker role, where the elemental burst, the elemental skill, and the normal or charge attack can be used. While the rest of the characters, if exists, have supporter role, where only the bursts and the skills can be used.</li>
<li>Characters recharge all the their energy at the begging, and 15 energy are given when the timer is at 5 seconds.</li>
</ul>
<p>Other implementation limitations:</p>
<ul>
<li>The enemy has infinite HP and does not move.</li>
<li>Shields are always active.</li>
<li>When characters use Staff of Homa, their HP is below 50%.</li>
<li>Amos' Bow travels the maximum distance.</li>
<li>Elemental resonance is not implemented.</li>
<li>The results of the future characters are not accurate.</li>
<li>Healing bonus is not implemented (most healing related features are not implemented yet).</li>
<li>Geo Construct.</li>
<li>Plunge attacks are considered as charge attacks without stamina consumption for now.</li>
</ul>
<p>Some restrictions of the ranking:</p>
<ul>
<li>The following weapons are not used by supporters: Staff of Homa, Crescent Pike, Prototype Crescent, Rust.</li>
</ul>
<h2 id="progress-of-implementations"><a class="header" href="#progress-of-implementations">Progress of implementations</a></h2>
<p>Each blank cell means that the respective feature is correct. Although most charge attacks are not implemented, the cells are left blank.</p>
<p>Characters:</p>
<p>For Anemo characters, I think elemental absorption works correctly.</p>
<table><thead><tr><th>Name</th><th>Normal attack</th><th>Charge attack</th><th>Press skill</th><th>Hold Skill</th><th>Burst</th><th>Other passives (and alternate sprint)</th></tr></thead><tbody>
<tr><td>Raiden Shogun</td><td>WIP</td><td></td><td>Burst DMG bonus may be incorrect</td><td></td><td>Starting 40 resolve stacks and Incomplete</td><td></td></tr>
<tr><td>KujouSara</td><td>WIP</td><td></td><td>Incomplete</td><td></td><td>Incomplete</td><td></td></tr>
<tr><td>Aloy</td><td>WIP</td><td></td><td>May be incorrect</td><td></td><td></td><td></td></tr>
<tr><td>Ayaka</td><td></td><td></td><td></td><td></td><td>15 hits in total</td><td>A4 bonus and infusion are always active</td></tr>
<tr><td>Yoimiya</td><td>WIP</td><td></td><td>Improves NA multipliers by 161.74%</td><td></td><td>Aurous Blaze triggers every 2 seconds</td><td></td></tr>
<tr><td>Sayu</td><td>WIP</td><td></td><td>Incomplete</td><td></td><td>Incomplete</td><td></td></tr>
<tr><td>Kazuha</td><td></td><td></td><td></td><td></td><td></td><td>A4 improves DMG bonuses of Pyro, Hydro, Electro, Cryo elements</td></tr>
<tr><td>Yanfei</td><td></td><td>Used if at least 3 Scarlet Seals</td><td></td><td></td><td></td><td>CA always triggers A4</td></tr>
<tr><td>Eula</td><td></td><td></td><td></td><td>Used if 2 Grimhearts</td><td></td><td>A4 does not reset CD of skills</td></tr>
<tr><td>Rosaria</td><td></td><td></td><td></td><td></td><td></td><td>A1 bonus applies on cast</td></tr>
<tr><td>Xiao</td><td>WIP</td><td>WIP</td><td>Generate particles even if burst is on?</td><td></td><td></td><td>A4 is not implemented</td></tr>
<tr><td>HuTao</td><td></td><td>Stamina consumption may be incorrect</td><td>Blood Blossom applies on cast</td><td></td><td></td><td>A4 bonus is always active</td></tr>
<tr><td>Albedo</td><td></td><td></td><td></td><td></td><td>3 DoT hits</td><td>A1 is not implemented because of infinite HP</td></tr>
<tr><td>Ganyu</td><td></td><td>Always used</td><td></td><td></td><td></td><td>A4 applies to all characters</td></tr>
<tr><td>Tartaglia</td><td>Always Melee Stance</td><td></td><td>Incomplete</td><td></td><td></td><td>Master of Weaponry increases all NA multipliers by 5%</td></tr>
<tr><td>Diona</td><td></td><td></td><td></td><td></td><td>Incomplete</td><td>Both A1 and A4 are not implemented</td></tr>
<tr><td>Zhongli</td><td></td><td></td><td></td><td>Never used</td><td></td><td>Both A1 and A4 are not implemented</td></tr>
<tr><td>Xinyan</td><td></td><td></td><td>On hit, the shield level 3 is always activated</td><td></td><td></td><td>A4 applies to all characters</td></tr>
<tr><td>Amber</td><td></td><td>Always used</td><td>The puppet explodes immediately</td><td>Never used</td><td>18 hits</td><td>A4 is active without the weakpoint</td></tr>
<tr><td>Bennett</td><td></td><td></td><td></td><td>Never used</td><td></td><td>TODO A4</td></tr>
<tr><td>Xiangling</td><td></td><td></td><td></td><td></td><td></td><td>A4 applies to the first member</td></tr>
<tr><td>Diluc</td><td></td><td>Never used</td><td>Starting 3 charges</td><td></td><td>3 DoT hits</td><td></td></tr>
<tr><td>Klee</td><td></td><td>Incomplete</td><td>Starting 2 charges, mines hit 2 times for each skill</td><td></td><td>24 hits in total</td><td>Both A1 and A4 are incomplete</td></tr>
<tr><td>Barbara</td><td></td><td></td><td>Not implemented</td><td></td><td>Not implemented</td><td>Both A1 and A4 are not implemented</td></tr>
<tr><td>Mona</td><td></td><td></td><td></td><td></td><td>May not be complete</td><td>A1 is not implemented</td></tr>
<tr><td>Xingqiu</td><td></td><td></td><td>Incomplete</td><td></td><td>Triggers every 1.233 seconds</td><td>A1 is not implemented</td></tr>
<tr><td>Beidou</td><td></td><td></td><td>Incomplete</td><td></td><td>Targets only one enemy</td><td>May not be complete</td></tr>
<tr><td>Fischl</td><td></td><td></td><td>Generate a particle for every attack</td><td></td><td>Reset CD of the skill</td><td>A4 may not be correct</td></tr>
<tr><td>Keqing</td><td></td><td></td><td></td><td>Never used</td><td></td><td></td></tr>
<tr><td>Lisa</td><td></td><td></td><td></td><td>Used if 3 Conductive Status</td><td>28 hits</td><td></td></tr>
<tr><td>Razor</td><td></td><td></td><td>Generate particles even if burst is on?</td><td></td><td>Reset CD (WIP)</td><td></td></tr>
<tr><td>Chongyun</td><td></td><td></td><td>Infuse for only himself</td><td></td><td></td><td>A1 applies to all characters</td></tr>
<tr><td>Kaeya</td><td></td><td></td><td></td><td></td><td>12 hits in total</td><td>A1 does not heal</td></tr>
<tr><td>Qiqi</td><td></td><td></td><td>Incomplete</td><td></td><td>Incomplete</td><td>Incomplete</td></tr>
<tr><td>Jean</td><td></td><td></td><td></td><td></td><td>Incomplete</td><td>Incomplete</td></tr>
<tr><td>Sucrose</td><td></td><td></td><td></td><td></td><td></td><td>A1 may be incorrect</td></tr>
<tr><td>Traveler (Anemo)</td><td></td><td></td><td></td><td></td><td>Always lift an enemy</td><td>A4 does not heal</td></tr>
<tr><td>Venti</td><td>WIP</td><td></td><td></td><td></td><td>8 hits in total</td><td>A4 may be incorrect</td></tr>
<tr><td>Ningguang</td><td></td><td>Used if at least 1 Star Jade</td><td>Jade Screen should be correct</td><td></td><td></td><td></td></tr>
<tr><td>Noelle</td><td></td><td>Never used</td><td>Incomplete</td><td></td><td></td><td>A1 is incomplete</td></tr>
<tr><td>Traveler (Geo)</td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
</tbody></table>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="Traveler_(Geo).html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="Traveler_(Geo).html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
            </nav>

        </div>

        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
    </body>
</html>
